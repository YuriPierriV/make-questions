<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Sometype+Mono:wght@400;500&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        
        
        <link rel="shortcut icon" href="/static/img/logo.png" type="image/x-icon">
        <link rel="stylesheet" href="/static/form.css">
        <title>Respondendo Formulário</title>
    </head>
<body>
    <header class="nav-color">
        <div class="container ">
            <nav class="nav d-flex justify-content-between p-3">
                <ul class="nav justify-content-start align-items-center">
                    <li class="nav-brand nav-item pe-3 ">
                        <a href="/"><i class="bi bi-house-down text-gray " style="font-size: 30px;"></i></a>
                    </li>
                    <li class="nav-item">
                        <span class="inputTitulo text-gray" id="nameInput" style="font-size: 25px; width: 100%;">{{ form.nome }}</span>
                    </li>
                </ul>
                <ul class="nav justify-content-end align-items-center ">
                    <li class="nav-item pe-5">
                        <a class="nav-link text-gray pe-0" href="#"><i style="font-size: 22px;" class="bi bi-gear"></i></a>
                    </li>
                    <li class="nav-item ">
                        <a class="nav-link text-gray ps-0 ms-0" href="#">{{usuario.nome}} <img src="/get-image/{{usuario.image[0]}}" onerror="this.onerror=null;this.src='/static/img/user_noimage.jpg';" alt="" class="img-fluid rounded-circle img-perfil" height="50px" width="50px"></a>
                    </li>
                </ul>
            </nav>
            
        </div>
    </header>
    <main>
        <div class="container-fluid p-5">
            <div class="row">
                <div class="col-md-3">
                    <div class="card card-header p-3 gap-2 sticky">
                        <h4 class="inputTitulo  text-gray" style="font-size: 32px; width: 100%;">{{ form.titulo }}</h4>
                        <p class="inputTitulo  text-gray" style="font-size: 18px; width: 100%;">{{ form.descricao }}</p>
                    </div>
                </div>
                <div class="col-md-7">
                    {% for question in questions %}
                    <div class="card mb-4" id="questions">
                        
                        <div class="card-header p-4 " id="question_controle_{{question.id}}">
                            {% if question.required == True %}
                                <div class="d-flex justify-content-end mt-0 pt-0"><i class="bi bi-asterisk" style="font-size: 8px;color: #EDC18D;"></i></div>
                            {% endif %}
                            <div class="mb-3 d-flex justify-content-center">
                                <img class="img-fluid"  src="/get-image/{{question.image[0]}}" alt="">
                            </div>
                            <div class="mb-3">
                                <h4 class="inputTextquestion w-100 text-gray {{question.type}} mb-5" type="text" id="question_text_{{question.id}}">{{ question.text }}</h4>
                            </div>
                            
                            {% if question.type == 'text' %}
                            
                                <div class="question_text">
                                    <div class="mb-3">
                                        <textarea rows="1" class="inputTextanswer w-100 input-clean text-gray {{question.type}}" type="text" id="answer_text_{{question.id}}" placeholder="Sua resposta" required></textarea>
                                    </div>
                                </div>
                            {% endif %}
                            {% if question.type == 'multimult_escolha' %}
                                <div class="question_multi border_box">
                                    <div class="container border_box">
                                        <form class="border_box">
                                            {% for option in question.options %}
                                                    <label class="border_box">
                                                        <input class="border_box geral" type="radio" name="radio">
                                                        <span class="border_box inputOption editable" id="edit_option_{{option.id}}_question_{{question.id}}">{{option.option_text}}</span>
                                                    </label>
                                            {% endfor %}
                                        </form>
                                    </div>
                                </div>
                            {% endif %}
                        </div>  
                    </div>
                    {% endfor %}
                    
                    
                </div>
                <div class="col-md-2 sticky">
                    <div class="card card-header p-3 sticky">
                        <H4>Questões</H4>
                        <div class="row ">
                            {% set count = namespace(value=1) %}
                            {% for question in questions %}
                                <div class="col-md-2  mt-2 d-flex justify-content-center ">
                                    <div class="card card-header p-3 text-center contador d-flex justify-content-center align-items-center" id="card_lateral_{{question.id}}">
                                        <p>{{ count.value }}</p>
                        
                                    </div>
                                </div>
                                {% set count.value = count.value + 1 %}
                            {% endfor %}
                        </div>
                        
                    </div>
                </div>
            </div>
            
        </div>
        
    </main>

    <!-- Entire bundle -->
    <script>
        var id_form = {{form.id}};
        var questions = {{ questions_json | tojson | safe }};
    </script>
    <script src="/static/form.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@shopify/draggable@1.0.0-beta.11/lib/draggable.bundle.js"></script>
</body>
</html>